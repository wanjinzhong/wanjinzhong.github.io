(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{528:function(t,e,a){"use strict";a.r(e);var s=a(4),l=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"获取镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取镜像"}},[t._v("#")]),t._v(" 获取镜像")]),t._v(" "),a("p",[a("code",[t._v("DOCKER PULL [OPTIONS] NAME[:TAG|@DIGEST]")])]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("如： docker pull ubuntu\n或： docker pull ubuntu "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14.04")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("table",[a("thead",[a("tr",[a("th",[a("strong",[t._v("参数")])]),t._v(" "),a("th",[a("strong",[t._v("说明")])])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("-a, —all-tages")]),t._v(" "),a("td",[t._v("下载仓库的中该镜像的所有标签")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"查看镜像信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看镜像信息"}},[t._v("#")]),t._v(" 查看镜像信息")]),t._v(" "),a("p",[a("code",[t._v("DOCKER IMAGES [OPTIONS] [REPOSTORY[:TAG]]")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[t._v("参数")])]),t._v(" "),a("th",[a("strong",[t._v("说明")])])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("-a, —all")]),t._v(" "),a("td",[t._v("显示所有镜像")])]),t._v(" "),a("tr",[a("td",[t._v("—digests")]),t._v(" "),a("td",[t._v("显示摘要")])]),t._v(" "),a("tr",[a("td",[t._v("-q, —quiet")]),t._v(" "),a("td",[t._v("只显示镜像的ID")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"为本地镜像添加标签"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为本地镜像添加标签"}},[t._v("#")]),t._v(" 为本地镜像添加标签")]),t._v(" "),a("p",[a("code",[t._v("DOCKER TAG SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG]")])]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("如： docker tag dl.dockerpool.com:5000/ubuntu:lastest newubuntu\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"获取镜像的详细信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取镜像的详细信息"}},[t._v("#")]),t._v(" 获取镜像的详细信息")]),t._v(" "),a("p",[a("code",[t._v("DOCKER INSPECT [OPTIONS] NAME|ID [NAME|ID]")])]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("如： docker inspect 5506de2b43b\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"搜寻镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搜寻镜像"}},[t._v("#")]),t._v(" 搜寻镜像")]),t._v(" "),a("p",[a("code",[t._v("DOCKER SEARCH [OPTIONS] TERM")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[t._v("参数")])]),t._v(" "),a("th",[a("strong",[t._v("说明")])])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("—limit int")]),t._v(" "),a("td",[t._v("搜索的结果数（默认25）")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除"}},[t._v("#")]),t._v(" 删除")]),t._v(" "),a("h3",{attrs:{id:"删除容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除容器"}},[t._v("#")]),t._v(" 删除容器")]),t._v(" "),a("p",[a("code",[t._v("docker rm [OPTIONS] CONTAINER [CONTAINER...]")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[t._v("参数")])]),t._v(" "),a("th",[a("strong",[t._v("说明")])])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("-f, —force")]),t._v(" "),a("td",[t._v("强行删除该容器，即使它还在运行（使用SIGKILL命令）")])]),t._v(" "),a("tr",[a("td",[t._v("-l, —link")]),t._v(" "),a("td",[t._v("删除容器的网络连接")])]),t._v(" "),a("tr",[a("td",[t._v("-v, —volumes")]),t._v(" "),a("td",[t._v("删除容器挂载的数据卷")])])])]),t._v(" "),a("h3",{attrs:{id:"删除镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除镜像"}},[t._v("#")]),t._v(" 删除镜像")]),t._v(" "),a("p",[a("code",[t._v("docker rmi [OPTIONS] IMAGE [IMAGE...]")]),t._v(" (Image可以是tag或者image id)")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[t._v("参数")])]),t._v(" "),a("th",[a("strong",[t._v("说明")])])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("-f, —force")]),t._v(" "),a("td",[t._v("强行删除该镜像")])])])]),t._v(" "),a("p",[a("em",[t._v("注意：应先删除容器，再删除镜像。")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"查看容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看容器"}},[t._v("#")]),t._v(" 查看容器")]),t._v(" "),a("p",[a("code",[t._v("DOCKER PS [OPTIONS]")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-a, —all")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("查看所有容器，不加该参数默认只显示正在运行的容器")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-n, —last int")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("只显示最近n个容器（包括所有状态的容器），不加该参数默认为-1")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-l, —lastest")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("只显示最近创建的1个容器（包括所有状态的容器)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-q, —quiet")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("只显示容器的ID")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-s, —size")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("显示容器占用空间大小")])])])]),t._v(" "),a("ol",[a("li",[t._v("查看本机存在的所有容器： "),a("code",[t._v("docker ps -a")])]),t._v(" "),a("li",[t._v("查看本机处于终止状态的容器： "),a("code",[t._v("docker ps -a -q")]),t._v(" 或 "),a("code",[t._v("docker ps -aq")])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"创建镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建镜像"}},[t._v("#")]),t._v(" 创建镜像")]),t._v(" "),a("h3",{attrs:{id:"基于已有镜像的容器创建镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基于已有镜像的容器创建镜像"}},[t._v("#")]),t._v(" 基于已有镜像的容器创建镜像")]),t._v(" "),a("p",[a("code",[t._v("docker commit [OPTIONS] CONTAINER [REPOSTORY[:TAG]]")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-a, —author string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("作者信息")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-m, —message string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("提交信息")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-p, —pause")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("提交时暂停容器运行(默认带有此参数)")])])])]),t._v(" "),a("p",[t._v("如：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Setp 1 - 运行一个镜像： docker run -ti ubuntu:14.04 /bin/bash\nSetp 2 - 进行一些修改： touch test (可以看到容器ID, 假设为a925cb40b3f0)\nSetp 3 - 提交新镜像：docker commit -m 'Add a new file' -a \"Docker Newbee\" a925cb40b3f0 test\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"基于本地模板导入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基于本地模板导入"}},[t._v("#")]),t._v(" 基于本地模板导入")]),t._v(" "),a("p",[a("code",[t._v("cat ubuntu-14.06-x86_64-minimal.tar.gz |docker import - ubuntu 14.04")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"载入导出镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#载入导出镜像"}},[t._v("#")]),t._v(" 载入导出镜像")]),t._v(" "),a("h3",{attrs:{id:"导出镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导出镜像"}},[t._v("#")]),t._v(" 导出镜像")]),t._v(" "),a("p",[a("code",[t._v("docker save [OPTIONS] IMAGE [IMAGE...]")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-o, —output string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("将镜像导出到本地文件")])])])]),t._v(" "),a("p",[t._v("如： "),a("code",[t._v("docker save -o ubuntu_14.04.tar ubuntu 14.04")])]),t._v(" "),a("h3",{attrs:{id:"载入镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#载入镜像"}},[t._v("#")]),t._v(" 载入镜像")]),t._v(" "),a("p",[a("code",[t._v("docker load [OPTIONS]")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-i, —input string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("从本地文件导入到本地镜像库")])])])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("docker load -i ubuntu14.04.tar\n或：docker load < ubuntu14.06.tar \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"上传镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上传镜像"}},[t._v("#")]),t._v(" 上传镜像")]),t._v(" "),a("p",[a("code",[t._v("DOCKER PUSH [OPTIONS] NAME[:TAG]")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("—disable-content-trust")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("跳过镜像校验（默认带有该参数）")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"创建容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建容器"}},[t._v("#")]),t._v(" 创建容器")]),t._v(" "),a("p",[a("code",[t._v("DOCKER CREATE [OPTIONS] IMAGE [COMMAND] [ARG...]")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" 如： docker create -ti ubuntu/lastest\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("em",[t._v("参数列表请使用"),a("code",[t._v("docker create --help")]),t._v("查看")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"启动容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动容器"}},[t._v("#")]),t._v(" 启动容器")]),t._v(" "),a("h3",{attrs:{id:"方式一-docker-start"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式一-docker-start"}},[t._v("#")]),t._v(" 方式一： "),a("code",[t._v("docker start")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("docker start [OPTIONS] CONTAINER [CONTAINER...]")]),t._v(" (容器创建之后使用)")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-a, —attach")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("启动之后以attach方式得到容器的标准输出流")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-i, —interactive")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("启动之后以attach方式获得容器的标准输入流")])])])]),t._v(" "),a("h3",{attrs:{id:"方式二-docker-run"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式二-docker-run"}},[t._v("#")]),t._v(" 方式二："),a("code",[t._v("docker run")])]),t._v(" "),a("p",[a("code",[t._v("docker run [OPTIONS] IMAGE [COMMAND] [ARG...]")]),t._v(" "),a("code",[t._v("docker run")]),t._v(" = "),a("code",[t._v("docker create")]),t._v(" + "),a("code",[t._v("docker start")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-a, —attach list")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-d, —detach")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("后台运行容器（守护态运行），并返回容器ID")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-i, —interactive")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("以交互模式运行容器，通常与 -t 同时使用")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-t, —tty")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("为容器重新分配一个伪输入终端，通常与 -i 同时使用")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-v, —volume list")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("在容器内创建一个数据卷")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-volumes-from list")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("挂载一个数据卷容器到该容器中")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("—name string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("为容器指定一个名称")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("—dns list")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("指定容器使用的DNS服务器，默认和宿主一致")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("—dns-search example.com")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("指定容器DNS搜索域名（默认为空，与宿主机一致）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-h， —hostname string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("指定容器的hostname")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-e —env list")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("设置环境变量（默认为空）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("—env-file list")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("从指定文件读入环境变量（默认为空）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-m, —memory string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("设置容器使用内存最大值")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("—network string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("指定容器的网络连接类型，支持 bridge/host/none/Container 四种类型（默认为default）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("—link list")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("添加链接到另一个容器")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-P, —publish-all")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("随机映射一个端口至容器内部开放的网络端口")])])])]),t._v(" "),a("p",[a("em",[t._v("所有参数列表请使用"),a("code",[t._v("docker create --help")]),t._v("查看")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"获得容器输出信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获得容器输出信息"}},[t._v("#")]),t._v(" 获得容器输出信息")]),t._v(" "),a("p",[a("code",[t._v("DOCKER LOGS [OPTIONS] CONTAINER")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-f, —follow")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("查看实时日志")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-t, —timestamps")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("显示日志产生的时间")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-tail string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("查看从尾部看的n条日志")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"终止容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#终止容器"}},[t._v("#")]),t._v(" 终止容器")]),t._v(" "),a("h3",{attrs:{id:"方式一-docker-stop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式一-docker-stop"}},[t._v("#")]),t._v(" 方式一："),a("code",[t._v("docker stop")])]),t._v(" "),a("p",[a("code",[t._v("docker stop [OPTIONS] CONTAINER [CONTAINER...]")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-t, —time int")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("在停止（stop）指定时间（秒为单位）后杀掉（kill）容器进程（默认为10秒）")])])])]),t._v(" "),a("p",[t._v("这种方式会首先向容器发送SIGTERM信号，等一段时间后（默认为10秒），再发送SIGKILL信号终止终端。")]),t._v(" "),a("h3",{attrs:{id:"方式二-docker-kill"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式二-docker-kill"}},[t._v("#")]),t._v(" 方式二："),a("code",[t._v("docker kill")])]),t._v(" "),a("p",[a("code",[t._v("docker kill [OPTIONS] CONTAINER [CONTAINER...]")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-s, —signal string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("向容器发送信号（默认为KILL）")])])])]),t._v(" "),a("p",[t._v("这种方式会直接发送SIGKILL信号来强行终止容器，不会给容器和应用程序等待的时间。")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"重启容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重启容器"}},[t._v("#")]),t._v(" 重启容器")]),t._v(" "),a("p",[a("code",[t._v("DOCKER RESTART [OPTIONS] CONTAINER [CONTAINER...]")])]),t._v(" "),a("ul",[a("li",[t._v("此操作可以将一个正在运行的容器重新启动，或将一个已终止的容器启动。")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-t, —time int")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("对于一个正在运行的容器，Stop指定秒数之后kill该容器（默认为10秒）")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"进入容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进入容器"}},[t._v("#")]),t._v(" 进入容器")]),t._v(" "),a("h3",{attrs:{id:"方式一-docker-attach"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式一-docker-attach"}},[t._v("#")]),t._v(" 方式一："),a("code",[t._v("docker attach")])]),t._v(" "),a("p",[a("code",[t._v("如：docker run -tid ubuntu (假设返回的容器ID为243c32535da7)docker attach 243c32535da7")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"title"},[t._v("注意")]),a("ol",[a("li",[t._v("当多个窗口同时attach到同一个容器时，所有窗口会同步显示，当某个容器因命令阻塞时，其它容器也无法执行操作;")]),t._v(" "),a("li",[t._v("当使用attach命令进入到一个容器之后，使用[CTRL+D]退出容器会使该容器终止;")]),t._v(" "),a("li",[t._v("如果该容器没有运行，那么先start。")])])]),a("h3",{attrs:{id:"方式二-docker-exec"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式二-docker-exec"}},[t._v("#")]),t._v(" 方式二："),a("code",[t._v("docker exec")])]),t._v(" "),a("p",[a("code",[t._v("docker exec [OPTIONS] CONTAINER COMMAND [ARG...]")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-d, —detach")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("守护模式：在后台运行命令")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-e, —env list")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("设置环境变量（默认为空）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-i, —interactive")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("以交互模式运行容器，通常与 -t 同时使用")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-t, —tty")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("为容器重新分配一个伪输入终端，通常与 -i 同时使用")])])])]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("  如： 假设现有一个ubuntu容器ID为9afa2802e68b：\n      docker "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -ti 9afa2802e68b /bin/bash\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"方式三-使用外部工具nsenter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式三-使用外部工具nsenter"}},[t._v("#")]),t._v(" 方式三：使用外部工具"),a("code",[t._v("nsenter")])]),t._v(" "),a("p",[t._v("step1 – 安装nsenter")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" https://www.kernel.org/pub/linux/utils/util-linux/v2.24/util-linux-2.24.tar.gz "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -zxf-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" util-linux-2.24"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("如果没有安装curl则应先安装curl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("./configure --without-ncursesmake nsentercp nsenter /usr/local/bin"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("step2 – 使用nsenter: "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("nsenter "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTIONS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("program"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  docker inspect -f "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(".State.Pid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" CONTAINERnsenter -t CONTAINER_PID -m -u -i -n -p\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-t, —target pid")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("进入指定的pid进程中")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-m, —mount")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("进入到mount namespace中")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-u, —uts")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("进入到uts namespace中")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("–i, —ipc")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("进入到System V IPC namaspace中")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("–n, —net")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("进入到network namespace中")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("–p, —pid")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("进入到pid namespace中")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-U, —uer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("进入到user namespace中")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"导入导出容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导入导出容器"}},[t._v("#")]),t._v(" 导入导出容器")]),t._v(" "),a("h3",{attrs:{id:"导出容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导出容器"}},[t._v("#")]),t._v(" 导出容器")]),t._v(" "),a("p",[a("code",[t._v("docker export [OPTIONS] CONTAINER")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-o, —output string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("写入到文件中")])])])]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("如： docker "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" -o mydocker.tar 2842afd00ee9\n或： docker "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" 2842afd00ee9 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" mydocker.tar\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[a("em",[t._v("无论容器是否正在运行，都将这个容器导出")])]),t._v(" "),a("h3",{attrs:{id:"导入容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导入容器"}},[t._v("#")]),t._v(" 导入容器")]),t._v(" "),a("p",[a("code",[t._v("docker import [OPTIONS] file|URL|- [REPOSTORY[:TAG]]")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-c, —change list")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("应用docker指令创建镜像")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-m, —message string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("提交时的文字说明")])])])]),t._v(" "),a("p",[a("em",[t._v("import导入后成为镜像")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"},[t._v("export和save，import和load的区别")]),a("p",[t._v("export是保存一个容器当时的快照，会丢失所有的历史记录和元数据信息，体积较小; save是保存一个镜像，包括完整的记录，体积较大")])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"挂载数据卷"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#挂载数据卷"}},[t._v("#")]),t._v(" 挂载数据卷")]),t._v(" "),a("h3",{attrs:{id:"挂载目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#挂载目录"}},[t._v("#")]),t._v(" 挂载目录")]),t._v(" "),a("p",[t._v("在运行的时候使用 "),a("code",[t._v("-v source_directory:target_dirctory")]),t._v("\n如："),a("code",[t._v("docker run -ti -v /src/webapp:/src/webapp ubuntu:14.04 /bin/bash")])]),t._v(" "),a("h3",{attrs:{id:"挂载文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#挂载文件"}},[t._v("#")]),t._v(" 挂载文件")]),t._v(" "),a("p",[t._v("在运行的时候使用 "),a("code",[t._v("-v source_file:target_file")]),t._v("\n如： "),a("code",[t._v("docker run -ti -v /myfile.txt:/target/myfile.txt ubuntu:14.04 /bin/bash")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"title"},[t._v("注意")]),a("ol",[a("li",[t._v("挂载目录后，宿主机对目录内的文件进行修改，容器内相应的文件也会被修改，反之亦然")]),t._v(" "),a("li",[t._v("挂载文件后，宿主机或容器对文件进行修改，就改变了文件的inode，则宿主机和容器的这个文件就不再是同一个文件了，文件内容不再同步")]),t._v(" "),a("li",[t._v("由于以上原因，推荐使用目录挂载")])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"数据卷容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据卷容器"}},[t._v("#")]),t._v(" 数据卷容器")]),t._v(" "),a("p",[t._v("数据卷容器用于在容器间共享数据。使用"),a("code",[t._v("--volumes-from CONTAINER")]),t._v("\n如：")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("step "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(": 使用ubuntu镜像启动一个名为data_container的容器并挂载一个dbdata目录\n        docker run -ti -v /dbdata --name data_container ubuntu \nstep "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(": 将data_container容器\n        docker run -ti --volume-from data_container ubuntu \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("br"),t._v(" "),a("hr"),t._v(" "),a("br"),t._v(" "),a("Vssue",{attrs:{title:t.$title}})],1)}),[],!1,null,null,null);e.default=l.exports}}]);