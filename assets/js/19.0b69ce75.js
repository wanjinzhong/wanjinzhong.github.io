(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{529:function(s,t,e){"use strict";e.r(t);var a=e(4),r=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("公司的网络代理使得Docker无法pull外网的镜像. 因此, 我们需要为docker设置代理. 方式如下:")]),s._v(" "),e("h2",{attrs:{id:"_1-创建目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建目录"}},[s._v("#")]),s._v(" 1. 创建目录")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /etc/systemd/system/docker.service.d\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"_2-创建网络代理配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建网络代理配置文件"}},[s._v("#")]),s._v(" 2. 创建网络代理配置文件")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/systemd/system/docker.service.d/http-proxy.conf\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"_3-写入网络代理配置信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-写入网络代理配置信息"}},[s._v("#")]),s._v(" 3. 写入网络代理配置信息")]),s._v(" "),e("div",{staticClass:"language-ini line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[Service]")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Environment")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v('"HTTP_PROXY=http://192.168.84.5:8080" "HTTPS_PROXY=http://192.168.84.5:8080" "NO_PROXY=localhost,127.0.0.1"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"_4-重启docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-重启docker"}},[s._v("#")]),s._v(" 4. 重启docker")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("systemctl daemon-reload\nsystemctl restart docker\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"},[s._v("参考")]),e("p",[e("a",{attrs:{href:"https://www.jianshu.com/p/b26fad1534d9",title:"docker添加http代理",target:"_blank",rel:"noopener noreferrer"}},[s._v("docker添加http代理"),e("OutboundLink")],1)])]),e("br"),s._v(" "),e("hr"),s._v(" "),e("br"),s._v(" "),e("Vssue",{attrs:{title:s.$title}})],1)}),[],!1,null,null,null);t.default=r.exports}}]);