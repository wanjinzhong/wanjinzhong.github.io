(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{532:function(s,t,a){"use strict";a.r(t);var r=a(4),e=Object(r.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[s._v("在Linux 中安装mysql 5.7及以上版本，在安装过程中不再会有初始化密码向导。这需要我们在安装完成之后自行修改密码")])]),s._v(" "),a("p",[s._v("一般有以下集中方法：")]),s._v(" "),a("ol",[a("li",[s._v("找到初始化密码")]),s._v(" "),a("li",[s._v("直接修改密码")])]),s._v(" "),a("p",[s._v("在这里介绍第二种方案：")]),s._v(" "),a("h3",{attrs:{id:"_1-使用命令安装mysql-server-5-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用命令安装mysql-server-5-7"}},[s._v("#")]),s._v(" 1. 使用命令安装mysql-server-5.7")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-server-5.7\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_2-临时修改配置文件-跳过密码验证阶段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-临时修改配置文件-跳过密码验证阶段"}},[s._v("#")]),s._v(" 2. 临时修改配置文件，跳过密码验证阶段")]),s._v(" "),a("p",[s._v("修改/etc/mysql/mysql.conf.d/mysqld.cnf，在[mysqld]下面添加skip-grant-tables")]),s._v(" "),a("h3",{attrs:{id:"_3-重启mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-重启mysql"}},[s._v("#")]),s._v(" 3. 重启mysql:")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysql restart\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_4-mysql登入-查看mysql-user表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-mysql登入-查看mysql-user表"}},[s._v("#")]),s._v(" 4. mysql登入，查看mysql.user表")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("mysql\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_5-修改root用户的plugin为mysql-native-password"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-修改root用户的plugin为mysql-native-password"}},[s._v("#")]),s._v(" 5. 修改root用户的plugin为mysql_native_password")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" plugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mysql_native_password'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" Host "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nflush "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("privileges")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_6-重新设置root的密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-重新设置root的密码"}},[s._v("#")]),s._v(" 6. 重新设置root的密码")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'localhost'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'You New Password'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_7-恢复密码验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-恢复密码验证"}},[s._v("#")]),s._v(" 7. 恢复密码验证")]),s._v(" "),a("p",[s._v("将第二步加入的一行使用“#”注释掉或者直接删掉")]),s._v(" "),a("h3",{attrs:{id:"_8-重启mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-重启mysql"}},[s._v("#")]),s._v(" 8. 重启mysql")]),s._v(" "),a("p",[s._v("重启mysql，然后就可以正常使用刚刚设置的用户名密码来登陆mysql了。")]),s._v(" "),a("br"),s._v(" "),a("hr"),s._v(" "),a("br"),s._v(" "),a("Vssue",{attrs:{title:s.$title}})],1)}),[],!1,null,null,null);t.default=e.exports}}]);