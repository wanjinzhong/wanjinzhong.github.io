(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{530:function(s,e,a){"use strict";a.r(e);var t=a(4),r=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[s._v("Seafile是一个网盘服务器。可以使用安装包来在实体机上安装，也可以使用Docker的方式来安装（Docker方式更加简单）")])]),s._v(" "),a("p",[s._v("Seafile有社区版和专业版之分，我目前使用的是社区版。专业版的docker镜像拉取太慢。")]),s._v(" "),a("h2",{attrs:{id:"首先从docker-hub上拉取seafile镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#首先从docker-hub上拉取seafile镜像"}},[s._v("#")]),s._v(" 首先从Docker Hub上拉取Seafile镜像")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("docker pull seafileltd/seafile:latest\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"启动seafile-docker镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动seafile-docker镜像"}},[s._v("#")]),s._v(" 启动Seafile Docker镜像")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("docker run -d --name seafile -e "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SEAFILE_SERVER_HOSTNAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cloud.nupday.com -e "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SEAFILE_ADMIN_EMAIL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xxx@xxx.com -e "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SEAFILE_ADMIN_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xxx -v /var/docker_seafile:/shared -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8087")]),s._v(":80 seafileltd/seafile:latest\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("其中")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("ul",[a("li",[a("code",[s._v("SEAFILE_SERVER_HOSTNAME")]),s._v("是服务器的地址，当没有域名是，可以填入IP地址")]),s._v(" "),a("li",[a("code",[s._v("SEAFILE_ADMIN_EMAIL")]),s._v("是管理员的邮箱地址，也是登陆的的用户名")]),s._v(" "),a("li",[a("code",[s._v("SEAFILE_ADMIN_PASSWORD")]),s._v("是管理员的密码，也是登陆密码")])])]),a("p",[s._v("启动完成之后，进入"),a("a",{attrs:{href:"http://cloud.nupday.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://cloud.nupday.com"),a("OutboundLink")],1),s._v(" 就可以进入Seafile的登陆页面了，填入上面的"),a("code",[s._v("SEAFILE_ADMIN_EMAIL")]),s._v("和"),a("code",[s._v("SEAFILE_ADMIN_PASSWORD")]),s._v("即可登陆进去（我是在nginx上做了转发，将cloud.nupday.com转发到8087端口，如果你没有做端口转发，那么需要在访问的时候手动加上8087端口）")]),s._v(" "),a("h2",{attrs:{id:"配置发邮件的功能-用于发送用户注册的验证链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置发邮件的功能-用于发送用户注册的验证链接"}},[s._v("#")]),s._v(" 配置发邮件的功能（用于发送用户注册的验证链接）")]),s._v(" "),a("p",[s._v("我们首先停掉Seafile的容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("docker stop seafile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("编辑刚才挂载docker container目录的/seafile/conf/seahub_settings.py文件")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /var/docker_seafile/seafile/conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在文件末尾添加如下配置（以163邮箱为例）：")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### 163邮箱配置测试 ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("###EMAIL_USE_SSL = True")]),s._v("\nEMAIL_HOST "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'smtp.163.com'")]),s._v("\nEMAIL_HOST_USER "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" xxx@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("163.")]),s._v("com'\nEMAIL_HOST_PASSWORD "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'授权码'")]),s._v("\nEMAIL_PORT "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'465'")]),s._v("\nDEFAULT_FROM_EMAIL "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" EMAIL_HOST_USER\nSERVER_EMAIL "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" EMAIL_HOST_USER\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("重新启动seafile容器：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("docker start seafile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("大功告成！敬请使用吧！")]),s._v(" "),a("br"),s._v(" "),a("hr"),s._v(" "),a("br"),s._v(" "),a("Vssue",{attrs:{title:s.$title}})],1)}),[],!1,null,null,null);e.default=r.exports}}]);