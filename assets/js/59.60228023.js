(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{577:function(s,a,e){"use strict";e.r(a);var t=e(4),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"连接samba服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#连接samba服务"}},[s._v("#")]),s._v(" 连接samba服务")]),s._v(" "),e("p",[s._v("Samba服务非常流行，可以将一台网络机器共享出来的文件夹直接挂载到本地。")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("安装cifs-utils")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" cifs-utils\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查看用户的uid和gid（这一步很重要，否则除了root之外，不允许在挂载的盘里写文件，只能读）")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" neilwan "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 你自己的用户名")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("可以看到输出如下，记住自己的"),e("code",[s._v("uid")]),s._v("和"),e("code",[s._v("gid")]),s._v("（这里"),e("code",[s._v("uid=1000")]),s._v(", "),e("code",[s._v("gid=1000")]),s._v("）")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("uid=1000(neilwan) gid=1000(neilwan) 组=7(lp),27(sudo),100(users),109(netdev),117(lpadmin),120(scanner),123(sambashare),132(docker),1000(neilwan)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("连接到samba服务器")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /mnt/company-server\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" -t cifs -o "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gid")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(",uid"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(",password"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("synnex //10.17.81.164/share /mnt/company-server/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("此时进入"),e("code",[s._v("/mnt/company-server/")]),s._v("目录就可以看到服务器上的文件了，并且可写")])])]),s._v(" "),e("h2",{attrs:{id:"连接davfs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#连接davfs"}},[s._v("#")]),s._v(" 连接Davfs")]),s._v(" "),e("p",[s._v("Davfs可以将网络上的支持Davfs的网盘直接挂载到本地，这样就不需要客户端直接像操作本地文件一样操作网盘。但是由于国内各大网盘提供商为了推行他们的客户端，并且在客户端内进行收费，所以绝大多数国内网盘服务商都不支持Davfs。但是"),e("strong",[s._v("坚果云")]),s._v("作为良心网盘商，支持Davfs。这里记录一下如何在linux下将坚果云盘挂载到本地目录。")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("编辑"),e("code",[s._v("/etc/davfs2/secrets")]),s._v("文件，新增一行，将Davfs的地址，用户名和密码写入")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <Davfs地址>\t<用户名>\t<密码>")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如")]),s._v("\nhttps://dav.jianguoyun.com/dav/ "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1051750377")]),s._v("@qq.com       xxxxxx\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("和连接samba服务相同方式获取"),e("code",[s._v("gid")]),s._v("和"),e("code",[s._v("uid")])])]),s._v(" "),e("li",[e("p",[s._v("为了解决坚果云与Davfs的兼容性问题，打开"),e("code",[s._v("/etc/davfs2/davfs2.conf")]),s._v("文件，找到下面一行并修改")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#找到下面一行：")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ignore_dav_header 0")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改为：(取消注释并将值修改为1)")]),s._v("\nignore_dav_header "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("连接到Davfs服务器")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /mnt/nutstore\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" -t davfs https://dav.jianguoyun.com/dav/ /mnt/nutstore/ -o "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gid")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(",uid"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])]),s._v(" "),e("br"),s._v(" "),e("hr"),s._v(" "),e("br"),s._v(" "),e("Vssue",{attrs:{title:s.$title}})],1)}),[],!1,null,null,null);a.default=n.exports}}]);